<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://finger-bone.github.io/micro-service-crashcourse/27/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>kafka 高性能消息队列 - 微服务速成笔记</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/color-brewer.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">微服务速成笔记</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Spring Cloud 微服务技术 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../01/" class="dropdown-item">回到 Spring</a>
</li>
                                    
<li>
    <a href="../02/" class="dropdown-item">回到 Java</a>
</li>
                                    
<li>
    <a href="../03/" class="dropdown-item">Consul 作为服务注册中心</a>
</li>
                                    
<li>
    <a href="../04/" class="dropdown-item">Consul 作为配置中心</a>
</li>
                                    
<li>
    <a href="../05/" class="dropdown-item">LoadBalancer</a>
</li>
                                    
<li>
    <a href="../06/" class="dropdown-item">Http Interface Client 与 OpenFeign</a>
</li>
                                    
<li>
    <a href="../07/" class="dropdown-item">Resilience4j 服务熔断和降级</a>
</li>
                                    
<li>
    <a href="../08/" class="dropdown-item">Resilience4j 限流</a>
</li>
                                    
<li>
    <a href="../09/" class="dropdown-item">Micrometer 监控</a>
</li>
                                    
<li>
    <a href="../10/" class="dropdown-item">Spring Gateway 网关</a>
</li>
                                    
<li>
    <a href="../11/" class="dropdown-item">Seata 分布式事务</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Spring 进阶内容 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../12/" class="dropdown-item">Reactor 框架</a>
</li>
                                    
<li>
    <a href="../13/" class="dropdown-item">Spring WebFlux</a>
</li>
                                    
<li>
    <a href="../14/" class="dropdown-item">Spring Security</a>
</li>
                                    
<li>
    <a href="../15/" class="dropdown-item">Spring Security OAuth2 认证以及 KeyCloak 用户服务</a>
</li>
                                    
<li>
    <a href="../16/" class="dropdown-item">Rabbit MQ 消息队列</a>
</li>
                                    
<li>
    <a href="../17/" class="dropdown-item">GraphQL</a>
</li>
                                    
<li>
    <a href="../18/" class="dropdown-item">gRPC</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">k8s 微服务技术 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../19/" class="dropdown-item">后端框架一览</a>
</li>
                                    
<li>
    <a href="../20/" class="dropdown-item">k8s 无状态服务基本部署</a>
</li>
                                    
<li>
    <a href="../21/" class="dropdown-item">helm 打包 istio 网关与 k8s 命令行工具</a>
</li>
                                    
<li>
    <a href="../22/" class="dropdown-item">k8s 无状态服务</a>
</li>
                                    
<li>
    <a href="../23/" class="dropdown-item">k8s 有状态服务</a>
</li>
                                    
<li>
    <a href="../24/" class="dropdown-item">服务网格</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">中间件补充 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../25/" class="dropdown-item">Nacos 服务治理</a>
</li>
                                    
<li>
    <a href="../26/" class="dropdown-item">Sentinel</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">kafka 高性能消息队列</a>
</li>
                                    
<li>
    <a href="../28/" class="dropdown-item">Redis</a>
</li>
                                    
<li>
    <a href="../29/" class="dropdown-item">OTel-LGTM</a>
</li>
                                    
<li>
    <a href="../30/" class="dropdown-item">Dubbo RPC</a>
</li>
                                    
<li>
    <a href="../31.md" class="dropdown-item">Nginx</a>
</li>
                                    
<li>
    <a href="../32.md" class="dropdown-item">Treafik</a>
</li>
                                    
<li>
    <a href="../33.md" class="dropdown-item">Citus</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../26/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../28/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#ch27-kafka" class="nav-link">中间件速成 Ch27 Kafka 高性能消息队列</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_1" class="nav-link">基本概念</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#kafka" class="nav-link">启动 Kafka</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#kafka_1" class="nav-link">操纵 Kafka</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="ch27-kafka">中间件速成 Ch27 Kafka 高性能消息队列</h1>
<p>这里学习的 Kafka 与之前学习的 RabbitMQ 的区别是，Kafka 其实更注重的是流式数据，高吞吐的性能处理，而 RabbitMQ 性能比 Kafka 差，但提供了更多的特性。Kafka 适用于日志收集与处理等场景，一般只有数据量足够大才需要用到它。</p>
<p>注意，Kafka 是一种持久化的订阅-发布模式，可以用于存储数据，且在消息转发后不会丢弃。</p>
<h2 id="_1">基本概念</h2>
<ol>
<li>Broker（代理节点）</li>
<li>这是 Kafka 集群中的服务器节点</li>
<li>每个 broker 负责存储数据并处理客户端请求</li>
<li>
<p>多个 broker 组成一个 Kafka 集群</p>
</li>
<li>
<p>Controller（控制器）</p>
</li>
<li>是一个特殊的 broker，由集群选举产生</li>
<li>负责管理集群状态，如分区分配、leader 选举等</li>
<li>
<p>一个集群只有一个 controller</p>
</li>
<li>
<p>Topic（主题）</p>
</li>
<li>是消息的逻辑分类</li>
<li>相当于一个消息队列或频道</li>
<li>
<p>比如可以有"订单"、"支付"等不同的 topic</p>
</li>
<li>
<p>Partition（分区）</p>
</li>
<li>每个 topic 可以分成多个 partition</li>
<li>partition 是数据存储和复制的基本单位</li>
<li>
<p>不同 partition 可以分布在不同 broker 上，实现负载均衡</p>
</li>
<li>
<p>Message/Record（消息/记录）</p>
</li>
<li>这是 Kafka 中最基本的数据单元</li>
<li>包含 key、value、timestamp 等信息</li>
<li>发送到 topic 中的每条数据就是一条 message</li>
</ol>
<p>它们之间的关系是：</p>
<pre><code>Kafka集群
  ├── 多个 Broker (其中一个是 Controller)
  └── 多个 Topic
       └── 多个 Partition
            └── 多条 Message
</code></pre>
<p>假设有一个电商系统，可能会有：</p>
<ul>
<li>"订单" topic：存储订单相关消息</li>
<li>"支付" topic：存储支付相关消息</li>
</ul>
<p>每个 topic 可能分成 3 个 partition，分布在不同 broker 上，提高并行处理能力。</p>
<p>下面介绍一下 kafka 的架构。</p>
<ol>
<li>基本架构</li>
</ol>
<pre><code>生产者 -&gt; Kafka集群 -&gt; 消费者
            ↓
        ZooKeeper/KRaft
</code></pre>
<ol>
<li>核心组件和职责：</li>
</ol>
<p>Producer（生产者）</p>
<ul>
<li>负责发送消息到 Kafka 集群</li>
<li>可以指定分区策略（轮询、hash等）</li>
<li>支持同步或异步发送</li>
</ul>
<p>Consumer（消费者）</p>
<ul>
<li>从 Kafka 集群读取消息</li>
<li>可以组成 Consumer Group 进行消费</li>
<li>每个分区只能被同一组内的一个消费者消费</li>
</ul>
<p>Consumer Group（消费者组）</p>
<ul>
<li>多个消费者组成一组</li>
<li>实现消息的并行消费</li>
<li>
<p>提供故障转移能力</p>
</li>
<li>
<p>高可用机制：</p>
</li>
</ul>
<p>副本机制，使用一主多备机制。</p>
<ul>
<li>每个分区有多个副本（replica）</li>
<li>一个 leader 副本和多个 follower 副本</li>
<li>follower 从 leader 同步数据</li>
<li>
<p>当 leader 故障时，从 follower 中选举新的 leader</p>
</li>
<li>
<p>示例架构：</p>
</li>
</ul>
<pre><code>Producer层
    ↓
Broker集群
  ├── Broker1 (Controller)
  │   └── Partition1-Leader
  │   └── Partition2-Follower
  ├── Broker2
  │   └── Partition1-Follower
  │   └── Partition2-Leader
  ├── Broker3
  │   └── Partition1-Follower
  │   └── Partition2-Follower
    ↓
Consumer Group层
</code></pre>
<ol>
<li>
<p>关键特性：</p>
</li>
<li>
<p>分区提供并行处理能力</p>
</li>
<li>副本提供高可用性</li>
<li>Consumer Group 提供扩展性</li>
<li>Controller 提供集中式管理</li>
<li>支持水平扩展</li>
</ol>
<p>这种架构设计使 Kafka：</p>
<ul>
<li>具有高吞吐量</li>
<li>可靠性强</li>
<li>容错性好</li>
<li>易于扩展</li>
</ul>
<h2 id="kafka">启动 Kafka</h2>
<p>注意，在以前版本，Kafka 需要搭配 Zookeeper。但是现在 Kraft 是更推荐的机制。</p>
<p>这里直接使用 Docker 启动一个 Kafka 集群。</p>
<pre><code class="language-bash">docker pull apache/kafka-native:3.9.0
docker run -p 9092:9092 apache/kafka-native:3.9.0
</code></pre>
<p>使用 native 版本的镜像性能更好，不过在我们测试过程中这不重要。</p>
<p>Kafka 的配置文件在 Container 的 <code>/opt/kafka/config</code> 中，也可以在启动 Container 时使用环境变量配置。</p>
<p>上面这样只启动了一个容器，以下是一个集群的 Docker Compose，在生产环境中请使用 k8s 或 ansible 搭建集群。</p>
<pre><code class="language-yaml">version: '3.8'

networks:
  kafka-net:
    driver: bridge

services:
  kafka1:
    image: confluentinc/cp-kafka:7.6.0
    hostname: kafka1
    container_name: kafka1
    networks:
      - kafka-net
    ports:
      - &quot;19092:19092&quot;  # External access
    environment:
      KAFKA_KRAFT_MODE: &quot;true&quot;
      KAFKA_PROCESS_ROLES: &quot;controller,broker&quot;
      KAFKA_NODE_ID: 1
      KAFKA_CONTROLLER_QUORUM_VOTERS: &quot;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&quot;
      KAFKA_LISTENERS: &quot;CONTROLLER://0.0.0.0:9093,INTERNAL://0.0.0.0:9092,EXTERNAL://0.0.0.0:19092&quot;
      KAFKA_ADVERTISED_LISTENERS: &quot;INTERNAL://kafka1:9092,EXTERNAL://localhost:19092&quot;
      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &quot;CONTROLLER:PLAINTEXT,INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;
      KAFKA_CONTROLLER_LISTENER_NAMES: &quot;CONTROLLER&quot;
      KAFKA_INTER_BROKER_LISTENER_NAME: &quot;INTERNAL&quot;
      CLUSTER_ID: &quot;m1Ze6AjGRwqarkcxJscgyQ&quot;
      KAFKA_LOG_DIRS: &quot;/var/lib/kafka/data&quot;
    volumes:
      - ./kafka1/data:/var/lib/kafka/data

  kafka2:
    image: confluentinc/cp-kafka:7.6.0
    hostname: kafka2
    container_name: kafka2
    networks:
      - kafka-net
    ports:
      - &quot;19093:19093&quot;
    environment:
      KAFKA_KRAFT_MODE: &quot;true&quot;
      KAFKA_PROCESS_ROLES: &quot;controller,broker&quot;
      KAFKA_NODE_ID: 2
      KAFKA_CONTROLLER_QUORUM_VOTERS: &quot;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&quot;
      KAFKA_LISTENERS: &quot;CONTROLLER://0.0.0.0:9093,INTERNAL://0.0.0.0:9092,EXTERNAL://0.0.0.0:19093&quot;
      KAFKA_ADVERTISED_LISTENERS: &quot;INTERNAL://kafka2:9092,EXTERNAL://localhost:19093&quot;
      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &quot;CONTROLLER:PLAINTEXT,INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;
      KAFKA_CONTROLLER_LISTENER_NAMES: &quot;CONTROLLER&quot;
      KAFKA_INTER_BROKER_LISTENER_NAME: &quot;INTERNAL&quot;
      CLUSTER_ID: &quot;m1Ze6AjGRwqarkcxJscgyQ&quot;
      KAFKA_LOG_DIRS: &quot;/var/lib/kafka/data&quot;
    volumes:
      - ./kafka2/data:/var/lib/kafka/data

  kafka3:
    image: confluentinc/cp-kafka:7.6.0
    hostname: kafka3
    container_name: kafka3
    networks:
      - kafka-net
    ports:
      - &quot;19094:19094&quot;
    environment:
      KAFKA_KRAFT_MODE: &quot;true&quot;
      KAFKA_PROCESS_ROLES: &quot;controller,broker&quot;
      KAFKA_NODE_ID: 3
      KAFKA_CONTROLLER_QUORUM_VOTERS: &quot;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&quot;
      KAFKA_LISTENERS: &quot;CONTROLLER://0.0.0.0:9093,INTERNAL://0.0.0.0:9092,EXTERNAL://0.0.0.0:19094&quot;
      KAFKA_ADVERTISED_LISTENERS: &quot;INTERNAL://kafka3:9092,EXTERNAL://localhost:19094&quot;
      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &quot;CONTROLLER:PLAINTEXT,INTERNAL:PLAINTEXT,EXTERNAL:PLAINTEXT&quot;
      KAFKA_CONTROLLER_LISTENER_NAMES: &quot;CONTROLLER&quot;
      KAFKA_INTER_BROKER_LISTENER_NAME: &quot;INTERNAL&quot;
      CLUSTER_ID: &quot;m1Ze6AjGRwqarkcxJscgyQ&quot;
      KAFKA_LOG_DIRS: &quot;/var/lib/kafka/data&quot;
    volumes:
      - ./kafka3/data:/var/lib/kafka/data
</code></pre>
<p>这里的配置需要注意，比较复杂，</p>
<p>这里的配置需要注意以下几点：</p>
<ul>
<li>
<p><strong>KAFKA_KRAFT_MODE</strong>：设置为<code>true</code>表示启用了Kafka的KRaft模式，即不依赖Zookeeper。这是Kafka的新特性，推荐在新版本中使用。</p>
</li>
<li>
<p><strong>KAFKA_PROCESS_ROLES</strong>：指定每个Kafka节点的角色。在此配置中，每个节点都同时作为控制器和代理（<code>controller,broker</code>）。这允许Kafka集群在没有独立控制器节点的情况下运行。</p>
</li>
<li>
<p><strong>KAFKA_NODE_ID</strong>：为每个节点分配一个唯一的ID。这里分别为1、2和3，分别代表三个Kafka节点。</p>
</li>
<li>
<p><strong>KAFKA_CONTROLLER_QUORUM_VOTERS</strong>：配置集群中控制器的选举成员，这里包括所有三个节点。控制器负责管理Kafka集群的元数据和协调工作。</p>
</li>
<li>
<p><strong>KAFKA_LISTENERS 和 KAFKA_ADVERTISED_LISTENERS</strong>：这些环境变量用于指定Kafka节点的监听地址和广告地址。<code>INTERNAL</code>用于集群内部通信，<code>EXTERNAL</code>则用于外部访问。</p>
</li>
<li>
<p><strong>KAFKA_LOG_DIRS</strong>：指定Kafka数据存储的路径。每个节点都需要一个单独的卷来存储其日志数据。</p>
</li>
<li>
<p><strong>KAFKA_LISTENER_SECURITY_PROTOCOL_MAP</strong>：这是用来指定不同监听器协议的映射。在这个配置中，<code>CONTROLLER</code>、<code>INTERNAL</code>、<code>EXTERNAL</code>三个协议都设置为<code>PLAINTEXT</code>。这意味着通信不加密。如果需要更安全的通信，可以选择<code>SSL</code>或<code>SASL</code>等协议。</p>
</li>
<li>
<p><strong>KAFKA_CONTROLLER_LISTENER_NAMES</strong>：用于指定控制器监听器的名称。在这种情况下，控制器监听器的名称是<code>CONTROLLER</code>，它会与<code>KAFKA_LISTENERS</code>中的<code>CONTROLLER</code>协议配对。</p>
</li>
<li>
<p><strong>KAFKA_INTER_BROKER_LISTENER_NAME</strong>：指定集群中节点之间（即代理之间）通信使用的监听器名称。这里设置为<code>INTERNAL</code>，意味着内部的节点间通信会使用<code>INTERNAL</code>协议。</p>
</li>
<li>
<p><strong>CLUSTER_ID</strong>：这是集群的唯一标识符。在启用KRaft模式时，Kafka需要一个<code>CLUSTER_ID</code>来区分不同的集群。确保在所有节点上使用相同的<code>CLUSTER_ID</code>。这里必须是一个 base64 UUID，随机生成一个即可。</p>
</li>
<li>
<p><strong>KAFKA_LOG_DIRS</strong>：指定Kafka日志的存储位置。每个Kafka容器都需要持久化存储，以避免数据丢失。通常会将容器的存储目录映射到本地的某个路径，比如<code>./kafka1/data</code>、<code>./kafka2/data</code>等。</p>
</li>
</ul>
<h2 id="kafka_1">操纵 Kafka</h2>
<p>这里我们使用 NodeJS 操纵 Kafka 集群。当然，单机 NodeJS 处理可能性能不够，但是在微服务场景下，因为服务可以自由伸缩，因此单机的性能反而不是很重要了。</p>
<pre><code class="language-javascript">const { Kafka } = require('kafkajs');

// 基础配置
const kafka = new Kafka({
  clientId: 'simple-client',
  brokers: ['localhost:19092', 'localhost:19093', 'localhost:19094'],
  connectionTimeout: 10000,
  retry: { retries: 10 }
});

async function main() {
  // 生产者
  const producer = kafka.producer();
  await producer.connect();
  await producer.send({
    topic: 'simple-topic',
    messages: [{ value: 'Test Message' }],
    acks: -1
  });
  console.log('消息发送成功');

  // 消费者（解决协调器问题关键配置）
  const consumer = kafka.consumer({
    groupId: 'simple-group',
    sessionTimeout: 30000,
    retry: { retries: 15 }
  });

  await consumer.connect();
  await consumer.subscribe({ topic: 'simple-topic', fromBeginning: true });

  consumer.run({
    eachMessage: async ({ message }) =&gt; {
      console.log(`收到消息: ${message.value}`);
    }
  });

  // 保持运行30秒
  await new Promise(resolve =&gt; setTimeout(resolve, 30000));
  await Promise.all([producer.disconnect(), consumer.disconnect()]);
}

main().catch(console.error);
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/jquery-3.6.0.min.js"></script>
        <script src="../js/bootstrap.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
