"use strict";(self.webpackChunknotes_template=self.webpackChunknotes_template||[]).push([[6945],{3569:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-2-0e6be65b81b26fc389312fb841c62cbb.png"},4484:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-ca9dd8d925062d8dfb41a8eef1d74fb6.png"},4586:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-1-3b73fe3a535e3ff26f7d51d6dd042f03.png"},5304:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/image-3-473977420a9e60c0a241b4a4a1fec36b.png"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var i=s(6540);const a={},t=i.createContext(a);function c(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},9213:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"24","title":"\u670d\u52a1\u7f51\u683c","description":"\u670d\u52a1\u7f51\u683c\uff08Service Mesh\uff09\u662f\u4e00\u79cd\u57fa\u7840\u8bbe\u65bd\u5c42\uff0c\u7528\u4e8e\u5904\u7406\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u900f\u660e\u7684\u65b9\u5f0f\uff0c\u4f7f\u5f97\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u66f4\u52a0\u53ef\u9760\u3001\u5b89\u5168\u3001\u9ad8\u6548\u3002\u670d\u52a1\u7f51\u683c\u7684\u76ee\u6807\u662f\u89e3\u8026\u670d\u52a1\u7684\u5f00\u53d1\u548c\u8fd0\u7ef4\uff0c\u4f7f\u5f97\u670d\u52a1\u7684\u5f00\u53d1\u8005\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\uff0c\u800c\u8fd0\u7ef4\u8005\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u670d\u52a1\u7684\u53ef\u89c2\u5bdf\u6027\u3001\u5b89\u5168\u6027\u3001\u6027\u80fd\u7b49\u65b9\u9762\u3002","source":"@site/docs/24.md","sourceDirName":".","slug":"/24","permalink":"/micro-service-crashcourse/docs/24","draft":false,"unlisted":false,"editUrl":"https://github.com/finger-bone/micro-service-crashcourse/blob/main/docs/24.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"k8s \u6709\u72b6\u6001\u670d\u52a1","permalink":"/micro-service-crashcourse/docs/23"},"next":{"title":"Nacos \u670d\u52a1\u6cbb\u7406","permalink":"/micro-service-crashcourse/docs/25"}}');var a=s(4848),t=s(8453);const c={},l="\u670d\u52a1\u7f51\u683c",r={},o=[{value:"\u670d\u52a1\u7f51\u683c\u7684\u7ed3\u6784\u4e0e\u539f\u7406",id:"\u670d\u52a1\u7f51\u683c\u7684\u7ed3\u6784\u4e0e\u539f\u7406",level:2},{value:"Ambient \u6a21\u5f0f\u5b89\u88c5",id:"ambient-\u6a21\u5f0f\u5b89\u88c5",level:2},{value:"Ambient \u5e94\u7528\u90e8\u7f72",id:"ambient-\u5e94\u7528\u90e8\u7f72",level:2},{value:"\u5e94\u7528\u76d1\u63a7",id:"\u5e94\u7528\u76d1\u63a7",level:2},{value:"L4 \u9274\u6743",id:"l4-\u9274\u6743",level:2},{value:"L7 \u9274\u6743",id:"l7-\u9274\u6743",level:2},{value:"\u6d41\u91cf\u7ba1\u7406",id:"\u6d41\u91cf\u7ba1\u7406",level:2},{value:"\u7194\u65ad",id:"\u7194\u65ad",level:2},{value:"\u9650\u6d41",id:"\u9650\u6d41",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u670d\u52a1\u7f51\u683c",children:"\u670d\u52a1\u7f51\u683c"})}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\uff08Service Mesh\uff09\u662f\u4e00\u79cd\u57fa\u7840\u8bbe\u65bd\u5c42\uff0c\u7528\u4e8e\u5904\u7406\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u900f\u660e\u7684\u65b9\u5f0f\uff0c\u4f7f\u5f97\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u66f4\u52a0\u53ef\u9760\u3001\u5b89\u5168\u3001\u9ad8\u6548\u3002\u670d\u52a1\u7f51\u683c\u7684\u76ee\u6807\u662f\u89e3\u8026\u670d\u52a1\u7684\u5f00\u53d1\u548c\u8fd0\u7ef4\uff0c\u4f7f\u5f97\u670d\u52a1\u7684\u5f00\u53d1\u8005\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\uff0c\u800c\u8fd0\u7ef4\u8005\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u670d\u52a1\u7684\u53ef\u89c2\u5bdf\u6027\u3001\u5b89\u5168\u6027\u3001\u6027\u80fd\u7b49\u65b9\u9762\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u5c31\u7c7b\u4f3c\u4e8e\u73b0\u5b9e\u4e2d\u7684\u8def\u7f51\uff0c\u5176\u4e2d\u6709\u9053\u8def\u548c\u4e00\u4e9b\u5fc5\u8981\u5efa\u7b51\uff08\u5982\u7ea2\u7eff\u706f\u3001\u6536\u8d39\u7ad9\u7b49\uff09\u3002\u9053\u8def\u662f\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u800c\u5efa\u7b51\u662f\u670d\u52a1\u7f51\u683c\u7684\u529f\u80fd\u3002\u73b0\u5728\uff0c\u4f5c\u4e3a\u57ce\u5e02\u7684\u8bbe\u8ba1\u8005\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u7a7a\u683c\u91cc\u653e\u7f6e\u4e00\u4e9b\u5efa\u7b51\uff0c\u5c31\u80fd\u5efa\u9020\u51fa\u4e00\u4e2a\u57ce\u5e02\u3002\u540c\u6837\u7684\uff0c\u4f5c\u4e3a\u8f6f\u4ef6\u5f00\u53d1\u8005\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u670d\u52a1\u7f51\u683c\u4e2d\u653e\u7f6e\u4e00\u4e9b\u529f\u80fd\uff0c\u5c31\u80fd\u6784\u5efa\u51fa\u4e00\u4e2a\u5fae\u670d\u52a1\u7cfb\u7edf\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u53c8\u79f0\u4e3a\u5fae\u670d\u52a1\u57fa\u7840\u8bbe\u65bd\uff0c\u5b83\u662f\u5fae\u670d\u52a1\u67b6\u6784\u7684\u4e00\u90e8\u5206\u3002\u670d\u52a1\u7f51\u683c\u901a\u5e38\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u6570\u636e\u5e73\u9762\uff08Data Plane\uff09\u548c\u63a7\u5236\u5e73\u9762\uff08Control Plane\uff09\u3002\u6570\u636e\u5e73\u9762\u8d1f\u8d23\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u63a7\u5236\u5e73\u9762\u8d1f\u8d23\u914d\u7f6e\u3001\u76d1\u63a7\u3001\u7ba1\u7406\u6570\u636e\u5e73\u9762\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u5fae\u670d\u52a1\uff0c\u5b83\u7531\u4e00\u4e9b\u5fae\u670d\u52a1\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5fae\u670d\u52a1\u8d1f\u8d23\u670d\u52a1\u7f51\u683c\u7684\u5404\u4e2a\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u90e8\u7f72\u5b83\u4eec\u662f\u5f88\u590d\u6742\u7684\u3002\u4e0d\u8fc7\uff0c\u524d\u9762\u6211\u4eec\u4ecb\u7ecd\u8fc7 helm\uff0chelm \u53ef\u4ee5\u4e00\u6b21\u90e8\u7f72\u4e00\u6574\u4e2a k8s \u96c6\u7fa4\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u4e00\u6b21\u90e8\u7f72\u4e00\u4e2a\u670d\u52a1\u7f51\u683c\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u7684\u5177\u4f53\u4f7f\u7528\u6839\u636e\u63d0\u4f9b\u5546\u6709\u4e9b\u8bb8\u4e0d\u540c\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 istio \u4f5c\u4e3a\u670d\u52a1\u7f51\u683c\uff0c\u5b83\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u670d\u52a1\u7f51\u683c\uff0c\u7531 Google\u3001IBM \u548c Lyft \u5171\u540c\u5f00\u53d1\u3002istio \u63d0\u4f9b\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u5982\u6d41\u91cf\u7ba1\u7406\u3001\u5b89\u5168\u3001\u76d1\u63a7\u7b49\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u524d\u9762\u6211\u4eec\u5728\u4ecb\u7ecd\u7f51\u5173\u65f6\u5df2\u7ecf\u4f7f\u7528\u4e86 istio \u7684\u7f51\u5173\uff0c\u5f53\u65f6\u5728\u5b89\u88c5\u65f6\u6211\u4eec\u4e8b\u5b9e\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86 istio \u670d\u52a1\u7f51\u683c\u7684\u4e00\u90e8\u5206\u3002\u8fd9\u4e00\u7ae0\u6211\u4eec\u7cfb\u7edf\u5730\u4ecb\u7ecd\u4e00\u4e0b istio \u7684\u670d\u52a1\u7f51\u683c\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u670d\u52a1\u7f51\u683c\u7684\u7ed3\u6784\u4e0e\u539f\u7406",children:"\u670d\u52a1\u7f51\u683c\u7684\u7ed3\u6784\u4e0e\u539f\u7406"}),"\n",(0,a.jsx)(n.p,{children:"\u901a\u8fc7\u524d\u9762\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5fae\u670d\u52a1\u9700\u8981\u8bb8\u591a\u529f\u80fd\uff0c\u800c k8s \u548c Spring Cloud \u533a\u522b\u662f\uff0c\u524d\u8005\u662f\u975e\u4fb5\u5165\u7684\uff0c\u4ee3\u7801\u4e2d\u611f\u77e5\u4e0d\u5230 k8s \u7684\u5b58\u5728\uff0c\u800c\u540e\u8005\u662f\u4fb5\u5165\u7684\uff0c\u4ee3\u7801\u4e2d\u9700\u8981\u4f7f\u7528 Spring Cloud \u7684 API\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u63d0\u4f9b\u4e86\u5fae\u670d\u52a1\u7684\u5927\u90e8\u5206\u529f\u80fd\uff0c\u4e0d\u518d\u9700\u8981\u81ea\u5df1\u642d\u5efa\uff0c\u5176\u4e2d\u4e3b\u8981\u6709\uff0c"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u5b89\u5168\u8ba4\u8bc1\u548c\u9274\u6743"}),"\n",(0,a.jsx)(n.li,{children:"\u8d1f\u8f7d\u5747\u8861"}),"\n",(0,a.jsx)(n.li,{children:"\u6d41\u91cf\u7ba1\u7406"}),"\n",(0,a.jsx)(n.li,{children:"\u8bbf\u95ee\u63a7\u5236"}),"\n",(0,a.jsx)(n.li,{children:"\u94fe\u8def\u8ffd\u8e2a"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u6db5\u76d6\u4e86\u4e4b\u524d\u4f7f\u7528 Spring Cloud \u8bb2\u5230\u7684\u5927\u90e8\u5206\u529f\u80fd\u3002\u5fae\u670d\u52a1\u7684\u5176\u5b83\u529f\u80fd\uff0c\u670d\u52a1\u6ce8\u518c\u3001\u914d\u7f6e\u4e0e\u7ba1\u7406\u7531 k8s \u63d0\u4f9b\uff0c\u5206\u5e03\u5f0f\u4e8b\u52a1\u4ecd\u7136\u9700\u8981\u989d\u5916\u7684\u7ec4\u4ef6\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u7684\u8fd9\u4e9b\u529f\u80fd\u901a\u8fc7\u4ee3\u7406\u5b9e\u73b0\u3002\u670d\u52a1\u7f51\u683c\u4e2d\u7684\u6bcf\u4e2a\u5fae\u670d\u52a1\u90fd\u6709\u4e00\u4e2a\u4ee3\u7406\uff0c\u62e6\u622a\u6240\u6709\u7684\u7f51\u7edc\u6d41\u6d6a\uff0c\u5e76\u8d1f\u8d23\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u8fd9\u4e2a\u4ee3\u7406\u662f\u900f\u660e\u7684\uff0c\u5fae\u670d\u52a1\u4e0d\u9700\u8981\u5173\u5fc3\u8fd9\u4e2a\u4ee3\u7406\u7684\u5b58\u5728\u3002\u8fd9\u4e2a\u4ee3\u7406\u8d1f\u8d23\u8d1f\u8f7d\u5747\u8861\u3001\u6545\u969c\u6062\u590d\u3001\u6d41\u91cf\u7ba1\u7406\u7b49\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u4ee3\u7406\u53ef\u5206\u4e3a\u4e24\u79cd\uff0cL4 \u4ee3\u7406\u548c L7 \u4ee3\u7406\uff0c\u5206\u522b\u5bf9\u5e94 OSI \u6a21\u578b\u7684\u7b2c\u56db\u5c42\u548c\u7b2c\u4e03\u5c42\u3002L4 \u4ee3\u7406\u529f\u80fd\u6bd4\u8f83\u5c11\uff0c\u4f46\u6027\u80fd\u597d\uff0cL7 \u4ee3\u7406\u529f\u80fd\u591a\uff0c\u4f46\u6027\u80fd\u5dee\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u670d\u52a1\u7f51\u683c\u53ef\u4ee5\u5728\u903b\u8f91\u4e0a\u5206\u6210\u4e24\u4e2a\u5e73\u9762\uff0c"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u6570\u636e\u5e73\u9762\u662f\u4e00\u7cfb\u5217\u7684\u7f51\u7edc\u4ee3\u7406\uff0c\u7528\u6765\u534f\u8c03\u548c\u76d1\u63a7\u5fae\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u8fd9\u4e9b\u4ee3\u7406\u662f\u90e8\u7f72\u5728\u6bcf\u4e2a\u5fae\u670d\u52a1\u4e4b\u95f4\u7684\uff0c\u5b83\u4eec\u8d1f\u8d23\u670d\u52a1\u4e4b\u95f4\u7684\u901a\u4fe1\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u6545\u969c\u6062\u590d\u7b49\u3002\u8fd9\u4e9b\u4ee3\u7406\u662f\u900f\u660e\u7684\uff0c\u5fae\u670d\u52a1\u4e0d\u9700\u8981\u5173\u5fc3\u8fd9\u4e9b\u4ee3\u7406\u7684\u5b58\u5728\u3002"}),"\n",(0,a.jsx)(n.li,{children:"\u63a7\u5236\u5e73\u9762\u662f\u4e00\u7cfb\u5217\u7684\u5fae\u670d\u52a1\uff0c\u7528\u6765\u7ba1\u7406\u6570\u636e\u5e73\u9762\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"istio \u7684\u6570\u636e\u5e73\u9762\u6709\u4e24\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0csidecar \u548c ambient\u3002sidecar \u5373\u4fa7\u8f7d\uff0c\u662f\u5c06\u4ee3\u7406\u90e8\u7f72\u5728\u6bcf\u4e2a\u5fae\u670d\u52a1\u7684 Pod \u4e2d\uff0c\u8fd9\u662f istio \u7684\u9ed8\u8ba4\u5de5\u4f5c\u6a21\u5f0f\u3002ambient \u5373\u73af\u5883\uff0c\u662f\u5c06\u4ee3\u7406\u90e8\u7f72\u5728 Pod \u7684\u73af\u5883\u4e2d\uff0c\u8fd9\u662f istio \u7684\u53e6\u4e00\u79cd\u5de5\u4f5c\u6a21\u5f0f\u3002"}),"\n",(0,a.jsx)(n.p,{children:"sidecar \u6a21\u5f0f\u9ed8\u8ba4\u4f7f\u7528 L7 \u4ee3\u7406\uff0c\u800c\u4e3a\u4e86\u6027\u80fd\uff0cambient \u6a21\u5f0f\u4f7f\u7528 L4 \u4ee3\u7406\uff0c\u4f46\u662f\u53ef\u4ee5\u624b\u52a8\u628a\u4e00\u90e8\u5206\u4ee3\u7406\u5207\u6362\u5230 L7 \u4ee3\u7406\uff0c\u6765\u8865\u5168\u4e00\u4e9b\u529f\u80fd\uff0c\u4f8b\u5982\u94fe\u8def\u8ffd\u8e2a\u3002"}),"\n",(0,a.jsx)(n.p,{children:"ambient \u6a21\u5f0f\u6bd4\u8f83\u65b0\uff0c\u4e14\u6027\u80fd\u597d\uff0c\u4f46\u7f3a\u5c11\u4e00\u90e8\u5206\u7684\u529f\u80fd\u3002\u8fd9\u91cc\u6211\u4eec\u8bb2\u89e3 ambient \u6a21\u5f0f\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"ambient-\u6a21\u5f0f\u5b89\u88c5",children:"Ambient \u6a21\u5f0f\u5b89\u88c5"}),"\n",(0,a.jsxs)(n.p,{children:["\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7",(0,a.jsx)(n.code,{children:"istioctl install --set profile=ambient"}),"\u6765\u5b89\u88c5 istio\uff0c\u5e76\u5b89\u88c5\u597d Gaetway API\uff0c\u4f7f\u7528\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl get crd gateways.gateway.networking.k8s.io &> /dev/null || \\\n  { kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.1.0/standard-install.yaml; }\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbf\u5347\u7ea7\u4e0e\u7ef4\u62a4\uff0c\u63a8\u8350\u4f7f\u7528 helm\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u4eec\u5148\u542f\u52a8\u4e00\u4e2a\u65b0\u7684\u96c6\u7fa4\uff0c\u7136\u540e\u5411 helm \u6dfb\u52a0\u4e00\u4e2a repo\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm repo add istio https://istio-release.storage.googleapis.com/charts\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4f7f\u7528",(0,a.jsx)(n.code,{children:"helm repo update"}),"\u6765\u83b7\u53d6 Chart\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u7136\u540e\u6211\u4eec\u5b89\u88c5\u7ec4\u4ef6\u5373\u53ef\u3002\u4e0e\u4f7f\u7528",(0,a.jsx)(n.code,{children:"istioctl"}),"\u4e0d\u540c\uff0chelm \u53ef\u4ee5\u5206\u7ec4\u4ef6\u5b89\u88c5\uff0c"]}),"\n",(0,a.jsx)(n.p,{children:"\u6ce8\u610f\uff0c\u8981\u5148\u5b89\u88c5\u7f51\u5173\u7684 CRD\uff0c\u7136\u540e\u518d\u5b89\u88c5\u4ee5\u4e0b\u5185\u5bb9\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u57fa\u7840\u7ec4\u4ef6\uff0c\u8fd9\u91cc\u7684",(0,a.jsx)(n.code,{children:"-n"}),"\u662f\u6307\u5b9a\u547d\u540d\u7a7a\u95f4\uff0c",(0,a.jsx)(n.code,{children:"--create-namespace"}),"\u662f\u521b\u5efa\u547d\u540d\u7a7a\u95f4\uff0c",(0,a.jsx)(n.code,{children:"--wait"}),"\u662f\u7b49\u5f85\u5b89\u88c5\u5b8c\u6210\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm install istio-base istio/base -n istio-system --create-namespace --wait\n"})}),"\n",(0,a.jsx)(n.p,{children:"CNI \u7ec4\u4ef6\uff0c\u5b83\u8d1f\u8d23\u68c0\u6d4b\u5c5e\u4e8e Ambient \u7f51\u683c\u7684 Pod\uff0c\u5e76\u914d\u7f6e Pod \u548c ztunnel \u8282\u70b9\u4ee3\u7406\uff08\u7a0d\u540e\u5c06\u5b89\u88c5\uff09\u4e4b\u95f4\u7684\u6d41\u91cf\u91cd\u5b9a\u5411\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm install istio-cni istio/cni -n istio-system --set profile=ambient --wait\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u63a7\u5236\u5e73\u9762\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm install istiod istio/istiod --namespace istio-system --set profile=ambient --wait\n"})}),"\n",(0,a.jsx)(n.p,{children:"ZTunnel \u4ee3\u7406\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm install ztunnel istio/ztunnel -n istio-system --wait\n"})}),"\n",(0,a.jsx)(n.h2,{id:"ambient-\u5e94\u7528\u90e8\u7f72",children:"Ambient \u5e94\u7528\u90e8\u7f72"}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u81ea\u5df1\u5b9e\u73b0\u4e86\uff0c\u4f7f\u7528 istio \u7684\u793a\u4f8b\u5e94\u7528 BookInfo\uff0c\u7531\u56db\u5957\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\u7684\u5fae\u670d\u52a1\u7ec4\u6210\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u4f7f\u7528 kubectl \u90e8\u7f72\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u6253\u5305\u6210 Chart\uff0c\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\u5c31\u4e0d\u6253\u5305\u4e86\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/bookinfo/platform/kube/bookinfo.yaml\nkubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/bookinfo/platform/kube/bookinfo-versions.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u914d\u7f6e\u7f51\u5173\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/bookinfo/gateway-api/bookinfo-gateway.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u540c\u4ee5\u5f80\u4e00\u6837\u8bbf\u95ee\u7f51\u5173\u7684\u670d\u52a1\uff0c\u800c\u7f51\u5173\u4f1a\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u5bf9\u5e94\u7684\u670d\u52a1\u4e0a\u3002\u8fd9\u4e9b\u5fae\u670d\u52a1\u5e76\u6ca1\u6709\u4ec0\u4e48\u7279\u6b8a\u6027\uff0c\u4e5f\u4e0d\u9700\u8981\u989d\u5916\u64cd\u4f5c\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u7136\u540e\u6211\u4eec\u5c31\u50cf\u4e4b\u524d\u4e00\u6837\u8bbf\u95ee\u7f51\u5173\uff0c\u6253\u5f00 minikube tunnel\uff0c\u8bbf\u95ee",(0,a.jsx)(n.code,{children:"http://localhost/productpage"}),"\uff0c\u5c31\u80fd\u770b\u5230\u9875\u9762\u3002"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"BookInfo \u9875\u9762",src:s(4484).A+"",width:"2732",height:"1694"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5e94\u7528\u76d1\u63a7",children:"\u5e94\u7528\u76d1\u63a7"}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u4eec\u4ecd\u7136\u9700\u8981\u5b89\u88c5 Prometheus \u548c Grafana \u6765\u76d1\u63a7\u5e94\u7528\uff0c\u4ee5\u53ca\u4f7f\u7528 Kiali Dashboard\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/addons/prometheus.yaml\nkubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/addons/grafana.yaml\nkubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.23/samples/addons/kiali.yaml\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u7136\u540e\u4f7f\u7528",(0,a.jsx)(n.code,{children:"istioctl dashboard kiali"}),"\u6765\u6253\u5f00 Kiali Dashboard\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u53d1\u9001\u4e00\u4e9b\u8bf7\u6c42\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"for i in $(seq 1 100); do curl -s http://localhost:8080/productpage; done\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u80fd\u5728 Kiali Dashboard \u4e0a\u770b\u5230\u8bf7\u6c42\u7684\u6d41\u91cf\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Kiali Board",src:s(4586).A+"",width:"2742",height:"1682"})}),"\n",(0,a.jsxs)(n.p,{children:["\u4f46\u662f\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\uff1a\u53ea\u6709",(0,a.jsx)(n.code,{children:"productpage"}),"\u670d\u52a1\u6709\u6d41\u91cf\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u6211\u4eec\u7684\u5fae\u670d\u52a1\u6ca1\u6709\u5728\u6570\u636e\u5e73\u9762\u6ce8\u518c\uff0c\u56e0\u6b64 istio \u65e0\u6cd5\u76d1\u63a7\u5230\u8fd9\u4e9b\u670d\u52a1\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u628a\u4e00\u6574\u4e2a namespace \u52a0\u5165\u5230 istio \u7684\u6570\u636e\u5e73\u9762\u4e2d\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl label namespace default istio.io/dataplane-mode=ambient\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u80fd\u770b\u5230\u6240\u6709\u7684\u670d\u52a1\u4e86\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Kiali Board",src:s(3569).A+"",width:"2776",height:"1682"})}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 Mesh \u9875\u9762\u67e5\u770b\u6211\u4eec\u7684\u670d\u52a1\u7f51\u683c\u3002"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Mesh \u9875\u9762",src:s(5304).A+"",width:"2766",height:"1678"})}),"\n",(0,a.jsx)(n.h2,{id:"l4-\u9274\u6743",children:"L4 \u9274\u6743"}),"\n",(0,a.jsx)(n.p,{children:"\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u9274\u6743\u662f\u4ee5 Pod \u4e3a\u5355\u4f4d\u7684\uff0c\u800c\u4e0d\u662f\u7528\u6237\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u4e0b\u9762\u7684\u7528\u6237\u521b\u5efa\u7b49\u8fc7\u7a0b\u5728\u793a\u4f8b\u4e2d\u5df2\u7ecf\u6709\u4e86\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u64cd\u4f5c\uff0c\u8fd9\u91cc\u4ec5\u8fdb\u884c\u4ecb\u7ecd\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u9274\u6743\u662f\u57fa\u4e8e ServiceAccount \u7684\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: bookinfo-productpage\n  labels:\n    account: productpage\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u8981\u628a ServiceAccount \u4e0e Pod \u7ed1\u5728\u4e00\u8d77\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: productpage-v1\n  labels:\n    app: productpage\n    version: v1\nspec:\n  # ...\n  template:\n    metadata:\n      # ...\n    spec:\n      serviceAccountName: bookinfo-productpage\n      # ...\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u521b\u5efa AuthorizationPolicy\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: security.istio.io/v1\nkind: AuthorizationPolicy\nmetadata:\n  name: productpage-viewer\n  namespace: default\nspec:\n  selector:\n    matchLabels:\n      app: productpage\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n        principals:\n        - cluster.local/ns/default/sa/bookinfo-gateway-istio\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u8fd9\u91cc\u7684 principal \u662f\u5141\u8bb8\u8bbf\u95ee\u7684 ServiceAccount\u3002",(0,a.jsx)(n.code,{children:"bookinfo-gateway-istio"}),"\u662f istio \u9ed8\u8ba4\u7684\u7f51\u5173\u670d\u52a1\u8d26\u6237\u3002principals \u7684\u683c\u5f0f\u662f\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:"{cluster-name}/ns/{namespace}/sa/{service-account}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["cluster-name \u662f\u96c6\u7fa4\u7684\u540d\u5b57\uff0c\u9ed8\u8ba4\u662f",(0,a.jsx)(n.code,{children:"cluster.local"}),"\u3002ns \u4ee3\u8868 namespace\uff0cnamespace \u586b\u5165 ServiceAccount \u6240\u5728\u7684 namespace\u3002sa \u4ee3\u8868 ServiceAccount\uff0c\u6700\u540e\u52a0\u4e0a ServiceAccount \u7684\u540d\u5b57\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u73b0\u5728\uff0c\u53ea\u5141\u8bb8",(0,a.jsx)(n.code,{children:"bookinfo-gateway-istio"}),"\u8bbf\u95ee",(0,a.jsx)(n.code,{children:"productpage"}),"\u670d\u52a1\uff0c\u5373\u5fc5\u987b\u901a\u8fc7\u7f51\u5173\u3002\u6211\u4eec\u53ef\u4ee5\u968f\u610f\u8fdb\u5165\u4e00\u4e2a Pod\uff0c\u8fd0\u884c",(0,a.jsx)(n.code,{children:'curl -s "http://productpage:9080/productpage"'}),"\uff0c\u4f1a\u53d1\u73b0\u65e0\u6cd5\u8bbf\u95ee\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"l7-\u9274\u6743",children:"L7 \u9274\u6743"}),"\n",(0,a.jsx)(n.p,{children:"\u524d\u9762\u7684 L4 \u9274\u6743\u53ea\u80fd\u5728 OSI \u7b2c\u56db\u5c42\uff0c\u5373\u4f20\u8f93\u5c42\uff0cTCP/UDP \u534f\u8bae\u3002\u800c L7 \u9274\u6743\u53ef\u4ee5\u5728 OSI \u7b2c\u4e03\u5c42\uff0c\u5373\u5e94\u7528\u5c42\uff0cHTTP \u534f\u8bae\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u7ea6\u675f\u66f4\u591a\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\u8bf7\u6c42\u5934\u3001\u8bf7\u6c42\u4f53\u7b49\uff0c\u56e0\u6b64\u53ef\u4ee5\u652f\u6301 OAuth2\uff0cJWT \u7b49\u7b49\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u8981\u5728 Ambient \u6a21\u5f0f\u6253\u5f00 L7 \u9274\u6743\uff0c\u9700\u8981\u628a\u9ed8\u8ba4\u7684 L4 Envoy \u4ee3\u7406\u66ff\u6362\u4e3a L7 Waypoint \u4ee3\u7406\u3002\u53ea\u8981\u521b\u5efa",(0,a.jsx)(n.code,{children:"waypoint"}),"\u5bf9\u8c61\uff0c",(0,a.jsx)(n.code,{children:"waypoint"}),"\u662f\u7279\u6b8a\u7684 Gateway\u3002\u8fd9\u4e2a waypoint \u4f1a\u4ee3\u7406\u6240\u6709\u901a\u8fc7\u5f53\u524d namespace \u7684\u6d41\u91cf\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: gateway.networking.k8s.io/v1\nkind: Gateway\nmetadata:\n  labels:\n    istio.io/waypoint-for: service\n  name: waypoint\nspec:\n  gatewayClassName: istio-waypoint\n  listeners:\n  - name: mesh\n    port: 15008\n    protocol: HBONE\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u91cc\u7684 listeners \u6211\u4eec\u4e0d\u9700\u8981\u5173\u5fc3\u3002\u5728\u8fd9\u4e2a listener \u4e0a\uff0c\u53ef\u4ee5\u5728 L4 \u57fa\u7840\u4e0a\u5efa\u7acb L7 \u4ee3\u7406\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u4fee\u6539 Policy\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'apiVersion: security.istio.io/v1\nkind: AuthorizationPolicy\nmetadata:\n  name: productpage-viewer\n  namespace: default\nspec:\n  targetRefs:\n  - kind: Service\n    group: ""\n    name: productpage\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n        principals:\n        - cluster.local/ns/default/sa/sleep\n    to:\n    - operation:\n        methods: ["GET"]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u8fd9\u91cc\u6211\u4eec\u7ea6\u675f\u4e86\u53ea\u5141\u8bb8\u8bbf\u95ee",(0,a.jsx)(n.code,{children:"productpage"}),"\u670d\u52a1\u7684 GET \u65b9\u6cd5\u3002\u5982\u679c\u4f7f\u7528\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl exec deploy/reviews-v1 -- curl -s http://productpage:9080/productpage\n"})}),"\n",(0,a.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0caccess denied\u3002"}),"\n",(0,a.jsxs)(n.p,{children:["\u5982\u679c\u5e0c\u671b\u4f7f\u7528\uff0c\u4f8b\u5982\uff0cJWT \u9274\u6743\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,a.jsx)(n.code,{children:"RequestAuthentication"}),"\u5bf9\u8c61\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'apiVersion: security.istio.io/v1\nkind: RequestAuthentication\nmetadata:\n  name: "jwt-example"\n  namespace: foo\nspec:\n  selector:\n    matchLabels:\n      app: httpbin\n  jwtRules:\n  - issuer: "testing@secure.istio.io"\n    jwksUri: "https://raw.githubusercontent.com/istio/istio/release-1.23/security/tools/jwt/samples/jwks.json"\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u7136\u540e\u628a\u4e4b\u524d\u7684 principal \u6539\u6210\u8bf7\u6c42 principal\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'apiVersion: security.istio.io/v1\nkind: AuthorizationPolicy\nmetadata:\n  name: require-jwt\n  namespace: foo\nspec:\n  selector:\n    matchLabels:\n      app: httpbin\n  action: ALLOW\n  rules:\n  - from:\n    - source:\n       requestPrincipals: ["testing@secure.istio.io/testing@secure.istio.io"]\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u518d\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u6d41\u91cf\u7ba1\u7406",children:"\u6d41\u91cf\u7ba1\u7406"}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u4eec\u53ef\u4ee5\u5728 HTTPRoute \u4e2d\u914d\u7f6e\u6d41\u91cf\u7ba1\u7406\uff0c\u4f8b\u5982\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: HTTPRoute\nmetadata:\n  name: reviews\nspec:\n  parentRefs:\n  - group: ""\n    kind: Service\n    name: reviews\n    port: 9080\n  rules:\n  - backendRefs:\n    - name: reviews-v1\n      port: 9080\n      weight: 90\n    - name: reviews-v2\n      port: 9080\n      weight: 10\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u5f97 90% \u7684\u6d41\u91cf\u8bbf\u95ee reviews-v1\uff0c10% \u7684\u6d41\u91cf\u8bbf\u95ee reviews-v2\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u7194\u65ad",children:"\u7194\u65ad"}),"\n",(0,a.jsxs)(n.p,{children:["\u53ef\u4ee5\u901a\u8fc7",(0,a.jsx)(n.code,{children:"DestinationRule"}),"\u6765\u914d\u7f6e\u7194\u65ad\uff0c"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"apiVersion: networking.istio.io/v1\nkind: DestinationRule\nmetadata:\n  name: httpbin\nspec:\n  host: httpbin\n  trafficPolicy:\n    connectionPool:\n      tcp:\n        maxConnections: 1\n      http:\n        http1MaxPendingRequests: 1\n        maxRequestsPerConnection: 1\n    outlierDetection:\n      consecutive5xxErrors: 1\n      interval: 1s\n      baseEjectionTime: 3m\n      maxEjectionPercent: 100\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u8fd9\u91cc\u7684\u53c2\u6570\u53c2\u8003",(0,a.jsx)(n.a,{href:"https://istio.io/latest/docs/tasks/traffic-management/circuit-breaking/",children:"\u6587\u6863"}),"\u5373\u53ef\u3002"]}),"\n",(0,a.jsx)(n.h2,{id:"\u9650\u6d41",children:"\u9650\u6d41"}),"\n",(0,a.jsx)(n.p,{children:"\u9650\u6d41\u53ea\u8981\u4fee\u6539 HTTPRoute\uff0c"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'apiVersion: gateway.networking.k8s.io/v1\nkind: HTTPRoute\nmetadata:\n  name: reviews\nspec:\n  parentRefs:\n  - group: ""\n    kind: Service\n    name: reviews\n    port: 9080\n  rules:\n  - backendRefs:\n    - name: reviews-v2\n      port: 9080\n    timeouts:\n      request: 500ms\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,a.jsx)(n.p,{children:"\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u5bf9 k8s \u672c\u8eab\u7684\u4ecb\u7ecd\u5df2\u7ecf\u7ed3\u675f\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 k8s \u7684\u57fa\u672c\u6982\u5ff5\uff0c\u5982\u4f55\u7528 k8s \u90e8\u7f72\u5e94\u7528\uff0c\u5982\u4f55\u7528 helm \u7ba1\u7406\u5e94\u7528\uff0c\u4ee5\u53ca\u5982\u4f55\u7528\u670d\u52a1\u7f51\u683c\u3002"}),"\n",(0,a.jsx)(n.p,{children:"\u7531\u6b64\uff0c\u672c\u7cfb\u5217\u4e5f\u5c31\u7ed3\u675f\u4e86\u3002\u5e0c\u671b\u8bfb\u8005\u80fd\u591f\u901a\u8fc7\u8fd9\u4e2a\u7cfb\u5217\u4e86\u89e3\u5230 Spring Cloud\uff0ck8s \u7b49\u5fae\u670d\u52a1\u6280\u672f\u3002"})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);